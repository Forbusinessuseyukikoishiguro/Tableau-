2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¦ã‹ã‚‰developãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒ«ã™ã‚‹å®‰å…¨ãªæ–¹æ³•
2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¦ã‹ã‚‰developãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒ«ã™ã‚‹å®‰å…¨ãªæ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ï¼

## 1. åŸºæœ¬çš„ãªæµã‚Œ

### æ¨™æº–çš„ãªæ‰‹é †
```bash
# 1. å€‹äººè¨­å®šã®2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -m "å€‹äººè¨­å®šä¿å­˜" vue.config.js .env.local

# 2. developãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°ã‚’å–å¾—
git pull origin develop

# 3. å€‹äººè¨­å®šã‚’å¾©å…ƒ
git stash pop
```

## 2. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆå¯¾ç­–ä»˜ããƒ—ãƒ«

### å®‰å…¨ãªãƒ—ãƒ«æ‰‹é †
```bash
# 1. ç¾åœ¨ã®çŠ¶æ³ç¢ºèª
git status

# 2. 2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -m "ãƒ—ãƒ«å‰å€‹äººè¨­å®šä¿å­˜_$(date +%Y%m%d_%H%M%S)" vue.config.js .env.local

# 3. ãƒªãƒ¢ãƒ¼ãƒˆæƒ…å ±æ›´æ–°
git fetch origin

# 4. developãƒ–ãƒ©ãƒ³ãƒã¨ã®å·®åˆ†ç¢ºèª
git log HEAD..origin/develop --oneline

# 5. ãƒ—ãƒ«å®Ÿè¡Œ
git pull origin develop

# 6. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒã‚§ãƒƒã‚¯
if [ $? -eq 0 ]; then
    echo "âœ… ãƒ—ãƒ«æˆåŠŸ"
    # å€‹äººè¨­å®šå¾©å…ƒ
    git stash pop
else
    echo "âŒ ãƒ—ãƒ«å¤±æ•— - æ‰‹å‹•è§£æ±ºãŒå¿…è¦"
fi
```

## 3. VSCodeã§ã®è‡ªå‹•åŒ–

### .vscode/tasks.json
```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Git: Safe Pull with Stash",
      "type": "shell",
      "command": "sh",
      "args": [
        "-c",
        "echo 'ğŸ”„ å®‰å…¨ãªãƒ—ãƒ«é–‹å§‹' && git stash push -m 'ãƒ—ãƒ«å‰ä¿å­˜_$(date +%Y%m%d_%H%M%S)' vue.config.js .env.local && echo 'ğŸ’¾ å€‹äººè¨­å®šã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã—ãŸ' && git pull origin develop && echo 'ğŸ“¥ ãƒ—ãƒ«å®Œäº†' && git stash pop && echo 'âœ… å€‹äººè¨­å®šã‚’å¾©å…ƒã—ã¾ã—ãŸ'"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Git: Check Before Pull",
      "type": "shell", 
      "command": "sh",
      "args": [
        "-c",
        "echo 'ğŸ“‹ ç¾åœ¨ã®çŠ¶æ³:' && git status --short && echo '' && echo 'ğŸ” ãƒªãƒ¢ãƒ¼ãƒˆã¨ã®å·®åˆ†:' && git fetch origin && git log HEAD..origin/develop --oneline"
      ],
      "group": "test"
    }
  ]
}
```

### å®Ÿè¡Œæ–¹æ³•
```
Ctrl + Shift + P â†’ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ â†’ "Git: Safe Pull with Stash"
```

## 4. npm scriptsã§ã®ç®¡ç†

### package.json
```json
{
  "scripts": {
    "git:safe-pull": "git stash push -m 'å€‹äººè¨­å®šä¿å­˜' vue.config.js .env.local && git pull origin develop && git stash pop",
    "git:check-remote": "git fetch origin && git log HEAD..origin/develop --oneline",
    "git:stash-pull-restore": "npm run git:stash-configs && git pull origin develop && npm run git:restore-configs",
    "git:stash-configs": "git stash push -m 'å€‹äººè¨­å®šä¿å­˜' vue.config.js .env.local",
    "git:restore-configs": "git stash pop",
    "dev:sync": "npm run git:safe-pull && echo 'ğŸ‰ åŒæœŸå®Œäº†'"
  }
}
```

### ä½¿ç”¨æ–¹æ³•
```bash
# ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§å®‰å…¨ãƒ—ãƒ«
npm run git:safe-pull

# ã¾ãŸã¯æ®µéšçš„ã«
npm run git:check-remote  # ã¾ãšå·®åˆ†ç¢ºèª
npm run dev:sync          # å®‰å…¨ãƒ—ãƒ«å®Ÿè¡Œ
```

## 5. é«˜åº¦ãªã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆå¯¾å¿œã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### safe-pull.sh
```bash
#!/bin/bash

echo "ğŸ”„ å®‰å…¨ãªdevelopãƒ–ãƒ©ãƒ³ãƒãƒ—ãƒ«é–‹å§‹"

# 1. ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒç¢ºèª
current_branch=$(git branch --show-current)
if [ "$current_branch" != "develop" ]; then
    echo "âš ï¸  ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ: $current_branch"
    echo "developãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã‹ï¼Ÿ (y/n)"
    read -r switch_confirm
    if [ "$switch_confirm" = "y" ]; then
        git checkout develop
    else
        echo "âŒ å‡¦ç†ã‚’ä¸­æ­¢ã—ã¾ã™"
        exit 1
    fi
fi

# 2. æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ç¢ºèª
if ! git diff-index --quiet HEAD --; then
    echo "ğŸ“‹ æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™:"
    git status --short
    
    # 3. 2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
    echo "ğŸ’¾ å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã™..."
    stash_name="ãƒ—ãƒ«å‰ä¿å­˜_$(date +%Y%m%d_%H%M%S)"
    
    if git stash push -m "$stash_name" vue.config.js .env.local 2>/dev/null; then
        echo "âœ… ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å®Œäº†: $stash_name"
        stashed=true
    else
        echo "âš ï¸  ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã§ãã¾ã›ã‚“ã§ã—ãŸï¼ˆå¤‰æ›´ãªã—ã¾ãŸã¯ã‚¨ãƒ©ãƒ¼ï¼‰"
        stashed=false
    fi
    
    # 4. ä»–ã«æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
    if ! git diff-index --quiet HEAD --; then
        echo "âš ï¸  ä»–ã«ã‚‚æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™:"
        git status --short
        echo "ã“ã‚Œã‚‰ã‚‚ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã™ã‹ï¼Ÿ (y/n)"
        read -r stash_all
        if [ "$stash_all" = "y" ]; then
            git stash push -m "ãã®ä»–ã®å¤‰æ›´_$(date +%Y%m%d_%H%M%S)"
            echo "âœ… å…¨ã¦ã®å¤‰æ›´ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã—ãŸ"
        fi
    fi
fi

# 5. ãƒªãƒ¢ãƒ¼ãƒˆæƒ…å ±æ›´æ–°
echo "ğŸ” ãƒªãƒ¢ãƒ¼ãƒˆæƒ…å ±ã‚’æ›´æ–°ä¸­..."
git fetch origin

# 6. å·®åˆ†ç¢ºèª
echo "ğŸ“Š ãƒªãƒ¢ãƒ¼ãƒˆã¨ã®å·®åˆ†:"
git log HEAD..origin/develop --oneline --max-count=10

if [ $(git rev-list HEAD..origin/develop --count) -eq 0 ]; then
    echo "âœ… æ—¢ã«æœ€æ–°ã§ã™"
    if [ "$stashed" = true ]; then
        git stash pop
        echo "âœ… å€‹äººè¨­å®šã‚’å¾©å…ƒã—ã¾ã—ãŸ"
    fi
    exit 0
fi

# 7. ãƒ—ãƒ«å®Ÿè¡Œ
echo "ğŸ“¥ ãƒ—ãƒ«å®Ÿè¡Œä¸­..."
if git pull origin develop; then
    echo "âœ… ãƒ—ãƒ«æˆåŠŸ"
    
    # 8. ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å¾©å…ƒ
    if [ "$stashed" = true ]; then
        echo "ğŸ”„ å€‹äººè¨­å®šå¾©å…ƒä¸­..."
        if git stash pop; then
            echo "âœ… å€‹äººè¨­å®šå¾©å…ƒå®Œäº†"
        else
            echo "âš ï¸  å¾©å…ƒã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ã¾ã—ãŸ"
            echo "ğŸ“‹ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«:"
            git status --short | grep "^UU"
            echo "æ‰‹å‹•ã§è§£æ±ºã—ã¦ãã ã•ã„"
        fi
    fi
    
    echo "ğŸ‰ å®‰å…¨ãƒ—ãƒ«å®Œäº†"
else
    echo "âŒ ãƒ—ãƒ«å¤±æ•—"
    echo "æ‰‹å‹•ã§å•é¡Œã‚’è§£æ±ºã—ã¦ãã ã•ã„"
    exit 1
fi
```

### å®Ÿè¡Œæ¨©é™ã¨ä½¿ç”¨
```bash
chmod +x safe-pull.sh
./safe-pull.sh
```

## 6. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºãƒ‘ã‚¿ãƒ¼ãƒ³

### vue.config.jsã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸå ´åˆ
```bash
# 1. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆçŠ¶æ³ç¢ºèª
git status

# 2. è‡ªåˆ†ã®è¨­å®šã‚’ä¿æŒï¼ˆå€‹äººè¨­å®šå„ªå…ˆï¼‰
git checkout --ours vue.config.js

# 3. ãƒãƒ¼ãƒ ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãƒãƒ¼ã‚¸
git show origin/develop:vue.config.js > vue.config.js.team
diff vue.config.js vue.config.js.team

# 4. å¿…è¦ã«å¿œã˜ã¦æ‰‹å‹•ãƒãƒ¼ã‚¸
nano vue.config.js

# 5. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºå®Œäº†
git add vue.config.js
```

### .env.localã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸå ´åˆ
```bash
# é€šå¸¸ã¯å€‹äººè¨­å®šã‚’å„ªå…ˆ
git checkout --ours .env.local
git add .env.local
```

## 7. VSCodeã§ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±º

### settings.json
```json
{
  "git.mergeEditor": true,
  "diffEditor.ignoreTrimWhitespace": false,
  "merge-conflict.autoNavigateNextConflict.enabled": true
}
```

### ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæ™‚ã®æ“ä½œ
1. VSCodeã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
2. `Accept Current Change`ï¼ˆå€‹äººè¨­å®šã‚’ä¿æŒï¼‰
3. å¿…è¦ã«å¿œã˜ã¦æ‰‹å‹•èª¿æ•´
4. `Ctrl + S`ã§ä¿å­˜

## 8. å®šæœŸåŒæœŸã®è‡ªå‹•åŒ–

### cron jobã§ã®å®šæœŸãƒ—ãƒ«
```bash
# crontab -e ã§ç·¨é›†
# æ¯æ—¥æœ9æ™‚ã«å®‰å…¨ãƒ—ãƒ«å®Ÿè¡Œ
0 9 * * * cd /path/to/project && ./safe-pull.sh >> pull.log 2>&1
```

### GitHub Actionsï¼ˆè‡ªå‹•ãƒ—ãƒ«é€šçŸ¥ï¼‰
```yaml
# .github/workflows/notify-updates.yml
name: Notify Updates

on:
  push:
    branches: [ develop ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
    - name: Notify developers
      run: |
        echo "developãƒ–ãƒ©ãƒ³ãƒãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"
        echo "ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ npm run git:safe-pull ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„"
```

## 9. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ãŒå¤±æ•—ã™ã‚‹å ´åˆ
```bash
# å¤‰æ›´ãŒã‚ã‚‹ã‹ç¢ºèª
git diff vue.config.js .env.local

# ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
touch vue.config.js .env.local

# å¼·åˆ¶ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -u -m "å¼·åˆ¶ä¿å­˜" vue.config.js .env.local
```

### ãƒ—ãƒ«å¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ¶ˆãˆãŸå ´åˆ
```bash
# ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ãƒªã‚¹ãƒˆç¢ºèª
git stash list

# æœ€æ–°ã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‚’é©ç”¨
git stash apply stash@{0}

# ã¾ãŸã¯ç‰¹å®šã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash apply "stash@{0}"
```

### è¤‡æ•°ã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ãŒã‚ã‚‹å ´åˆ
```bash
# ã‚¹ã‚¿ãƒƒã‚·ãƒ¥è©³ç´°ç¢ºèª
git stash show -p stash@{0}

# æ­£ã—ã„ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‚’é©ç”¨
git stash apply stash@{1}

# ä¸è¦ãªã‚¹ã‚¿ãƒƒã‚·ãƒ¥å‰Šé™¤
git stash drop stash@{0}
```

## 10. ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚³ãƒãƒ³ãƒ‰é›†

```bash
# åŸºæœ¬çš„ãªå®‰å…¨ãƒ—ãƒ«
alias safe-pull='git stash push -m "å€‹äººè¨­å®š" vue.config.js .env.local && git pull origin develop && git stash pop'

# ç¢ºèªä»˜ãå®‰å…¨ãƒ—ãƒ«  
alias check-pull='git fetch origin && git log HEAD..origin/develop --oneline && safe-pull'

# ç·Šæ€¥æ™‚ã®å¼·åˆ¶åŒæœŸ
alias force-sync='git stash && git reset --hard origin/develop && git stash pop'
```

ã“ã®æ–¹æ³•ã§ã€å€‹äººè¨­å®šã‚’ä¿è­·ã—ãªãŒã‚‰å®‰å…¨ã«developãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°å¤‰æ›´ã‚’å–å¾—ã§ãã¾ã™ï¼

ä½•ã‹ç‰¹å®šã®ã‚±ãƒ¼ã‚¹ã§å•é¡ŒãŒã‚ã‚Œã°è©³ã—ãæ•™ãˆã¦ãã ã•ã„ã€‚
