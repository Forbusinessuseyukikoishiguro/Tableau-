2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¦ã‹ã‚‰ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹æ–¹æ³•ã§ã™ã­ï¼

## 1. åŸºæœ¬çš„ãª2ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚¿ãƒƒã‚·ãƒ¥æ–¹æ³•

### ç‰¹å®šã®2ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
```bash
# 2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -m "å€‹äººè¨­å®šä¿å­˜" vue.config.js .env.local

# æ®‹ã‚Šã®å¤‰æ›´ã‚’ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "æ©Ÿèƒ½è¿½åŠ : æ–°ã—ã„æ©Ÿèƒ½å®Ÿè£…"
git push origin develop

# ä½œæ¥­å¾Œã«å€‹äººè¨­å®šã‚’å¾©å…ƒ
git stash pop
```

### ãƒ‘ãƒƒãƒå½¢å¼ã§ã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ï¼ˆå¯¾è©±çš„ï¼‰
```bash
# å¯¾è©±çš„ã«2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -p -m "å€‹äººè¨­å®šã®ã¿ä¿å­˜"
# â†’ vue.config.jsã¨localãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿yã§é¸æŠ

# ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "ãƒ•ãƒ«æ©Ÿèƒ½å®Ÿè£…"
git push origin develop

# å¾©å…ƒ
git stash pop
```

## 2. VSCodeã§ã®2ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚¿ãƒƒã‚·ãƒ¥

### .vscode/tasks.jsonï¼ˆã‚¹ã‚¿ãƒƒã‚·ãƒ¥å°‚ç”¨ï¼‰
```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Git: Stash 2 Config Files",
      "type": "shell",
      "command": "git",
      "args": [
        "stash", "push", "-m", "å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜", 
        "vue.config.js", ".env.local"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always"
      }
    },
    {
      "label": "Git: Full Commit & Push",
      "type": "shell",
      "command": "sh",
      "args": [
        "-c",
        "git add . && git status && read -p 'ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ' msg && git commit -m \"$msg\" && git push origin develop"
      ],
      "group": "build",
      "dependsOrder": "sequence",
      "dependsOn": "Git: Stash 2 Config Files"
    },
    {
      "label": "Git: Restore Config Files",
      "type": "shell",
      "command": "git",
      "args": ["stash", "pop"],
      "group": "build"
    },
    {
      "label": "Git: Full Workflow (Stash â†’ Commit â†’ Restore)",
      "dependsOrder": "sequence",
      "dependsOn": [
        "Git: Stash 2 Config Files",
        "Git: Full Commit & Push", 
        "Git: Restore Config Files"
      ]
    }
  ]
}
```

### å®Ÿè¡Œæ–¹æ³•
```
Ctrl + Shift + P â†’ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ â†’ "Git: Full Workflow"
```

## 3. npm scriptsã§ã®è‡ªå‹•åŒ–

### package.json
```json
{
  "scripts": {
    "git:stash-configs": "git stash push -m 'å€‹äººè¨­å®šä¿å­˜' vue.config.js .env.local",
    "git:full-commit": "git add . && git status",
    "git:restore-configs": "git stash pop",
    "git:full-workflow": "npm run git:stash-configs && npm run git:full-commit",
    "dev:commit": "npm run git:stash-configs && echo 'è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã—ãŸã€‚ã‚³ãƒŸãƒƒãƒˆã‚’ç¶šè¡Œã—ã¦ãã ã•ã„ã€‚'"
  }
}
```

### ä½¿ç”¨ä¾‹
```bash
# 1. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
npm run git:stash-configs

# 2. ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "æ–°æ©Ÿèƒ½å®Ÿè£…"
git push origin develop

# 3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒ
npm run git:restore-configs
```

## 4. ã‚ˆã‚Šé«˜åº¦ãªã‚¹ã‚¿ãƒƒã‚·ãƒ¥ç®¡ç†

### è¤‡æ•°ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã®ç®¡ç†
```bash
# åå‰ä»˜ãã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã§ç®¡ç†
git stash push -m "vue.config.jså€‹äººè¨­å®š" vue.config.js
git stash push -m ".env.localå€‹äººè¨­å®š" .env.local

# ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ä¸€è¦§ç¢ºèª
git stash list
# stash@{0}: On develop: .env.localå€‹äººè¨­å®š
# stash@{1}: On develop: vue.config.jså€‹äººè¨­å®š

# ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆä½œæ¥­
git add .
git commit -m "æ©Ÿèƒ½å®Ÿè£…"
git push origin develop

# ç‰¹å®šã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‚’å¾©å…ƒ
git stash apply stash@{1}  # vue.config.js
git stash apply stash@{0}  # .env.local

# ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
git stash drop stash@{0}
git stash drop stash@{1}
```

### ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å†…å®¹ã®ç¢ºèª
```bash
# ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã®è©³ç´°ç¢ºèª
git stash show -p stash@{0}

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç¢ºèª
git stash show -p stash@{0} -- vue.config.js
```

## 5. è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### stash-and-commit.sh
```bash
#!/bin/bash

echo "ğŸ”„ 2ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ & ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆé–‹å§‹"

# 1. ç¾åœ¨ã®çŠ¶æ³ç¢ºèª
echo "ğŸ“‹ ç¾åœ¨ã®gitçŠ¶æ³:"
git status --short

# 2. 2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
echo "ğŸ’¾ å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ä¸­..."
git stash push -m "å€‹äººè¨­å®šä¿å­˜_$(date +%Y%m%d_%H%M%S)" vue.config.js .env.local

if [ $? -eq 0 ]; then
    echo "âœ… ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å®Œäº†"
else
    echo "âŒ ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å¤±æ•—"
    exit 1
fi

# 3. æ®‹ã‚Šã®å¤‰æ›´ç¢ºèª
echo "ğŸ“‹ ã‚³ãƒŸãƒƒãƒˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:"
git status --short

# 4. ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›
read -p "ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›: " commit_message

if [ -z "$commit_message" ]; then
    commit_message="ãƒ•ãƒ«æ©Ÿèƒ½æ›´æ–°_$(date +%Y%m%d_%H%M%S)"
fi

# 5. ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆ
echo "ğŸš€ ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆå®Ÿè¡Œä¸­..."
git add .
git commit -m "$commit_message"

if [ $? -eq 0 ]; then
    echo "âœ… ã‚³ãƒŸãƒƒãƒˆå®Œäº†"
    
    # 6. ãƒ—ãƒƒã‚·ãƒ¥ç¢ºèª
    read -p "ğŸŒ developãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã‹ï¼Ÿ (y/n): " push_confirm
    
    if [ "$push_confirm" = "y" ] || [ "$push_confirm" = "Y" ]; then
        git push origin develop
        echo "âœ… ãƒ—ãƒƒã‚·ãƒ¥å®Œäº†"
    fi
else
    echo "âŒ ã‚³ãƒŸãƒƒãƒˆå¤±æ•—"
    exit 1
fi

# 7. ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å¾©å…ƒç¢ºèª
read -p "ğŸ”„ å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å…ƒã—ã¾ã™ã‹ï¼Ÿ (y/n): " restore_confirm

if [ "$restore_confirm" = "y" ] || [ "$restore_confirm" = "Y" ]; then
    git stash pop
    echo "âœ… å€‹äººè¨­å®šå¾©å…ƒå®Œäº†"
    echo "ğŸ“‹ å¾©å…ƒå¾Œã®çŠ¶æ³:"
    git status --short
fi

echo "ğŸ‰ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†ï¼"
```

### å®Ÿè¡Œæ¨©é™ä»˜ä¸ã¨ä½¿ç”¨
```bash
chmod +x stash-and-commit.sh
./stash-and-commit.sh
```

## 6. Git Hooksæ´»ç”¨ï¼ˆè‡ªå‹•ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ï¼‰

### .git/hooks/pre-commit
```bash
#!/bin/bash

# ã‚³ãƒŸãƒƒãƒˆå‰ã«è‡ªå‹•ã§2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯
if git diff --cached --name-only | grep -q "vue.config.js\|\.env\.local"; then
    echo "âš ï¸  å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚³ãƒŸãƒƒãƒˆã«å«ã¾ã‚Œã¦ã„ã¾ã™"
    echo "ğŸ”„ è‡ªå‹•ã§ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã™ã‹ï¼Ÿ (y/n)"
    read -r response
    
    if [ "$response" = "y" ]; then
        # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰é™¤å¤–
        git reset HEAD vue.config.js .env.local 2>/dev/null
        # ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã«ä¿å­˜
        git stash push -m "è‡ªå‹•ä¿å­˜_$(date +%Y%m%d_%H%M%S)" vue.config.js .env.local 2>/dev/null
        echo "âœ… å€‹äººè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¾ã—ãŸ"
    else
        echo "âŒ ã‚³ãƒŸãƒƒãƒˆä¸­æ­¢"
        exit 1
    fi
fi
```

### æ¨©é™è¨­å®š
```bash
chmod +x .git/hooks/pre-commit
```

## 7. VSCodeã§ã®ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯æ“ä½œ

### settings.json
```json
{
  "git.enableSmartCommit": true,
  "git.confirmSync": false,
  "terminal.integrated.profiles.linux": {
    "stash-commit": {
      "path": "/bin/bash",
      "args": ["-c", "./stash-and-commit.sh"]
    }
  }
}
```

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
```json
// keybindings.json
[
  {
    "key": "ctrl+shift+alt+s",
    "command": "workbench.action.terminal.sendSequence",
    "args": {
      "text": "./stash-and-commit.sh\n"
    }
  }
]
```

## 8. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ãŒå¤±æ•—ã™ã‚‹å ´åˆ
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
ls -la vue.config.js .env.local

# å¤‰æ›´ãŒã‚ã‚‹ã‹ç¢ºèª
git diff vue.config.js .env.local

# å¼·åˆ¶ã‚¹ã‚¿ãƒƒã‚·ãƒ¥
git stash push -u -m "å¼·åˆ¶ä¿å­˜" vue.config.js .env.local
```

### ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å¾©å…ƒã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ
```bash
# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆç¢ºèª
git status

# æ‰‹å‹•ãƒãƒ¼ã‚¸
git mergetool

# ã¾ãŸã¯ç¾åœ¨ã®å¤‰æ›´ã‚’ä¿æŒ
git checkout --theirs vue.config.js
git checkout --theirs .env.local
```

### ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ãƒªã‚¹ãƒˆç®¡ç†
```bash
# å¤ã„ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
git stash clear

# ç‰¹å®šæœŸé–“ä»¥ä¸Šå‰ã®ã‚¹ã‚¿ãƒƒã‚·ãƒ¥å‰Šé™¤
git for-each-ref --format="%(refname:short) %(committerdate)" refs/stash | 
awk '$2 < "'$(date -d '7 days ago' '+%Y-%m-%d')'"' | 
cut -d' ' -f1 | xargs -r git update-ref -d
```

ã“ã®æ–¹æ³•ã§ã€å€‹äººè¨­å®šã®2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®‰å…¨ã«ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ãªãŒã‚‰ã€æ®‹ã‚Šã®å¤‰æ›´ã‚’ãƒ•ãƒ«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã§ãã¾ã™ï¼

ã©ã®æ–¹æ³•ãŒä¸€ç•ªä½¿ã„ã‚„ã™ãã†ã‹æ•™ãˆã¦ãã ã•ã„ã€‚
